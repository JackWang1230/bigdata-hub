# Kimball维度建模技术概述

## 2.1 基本概念

- 收集业务需求和数据实现

  - 理解业务需求，理解作为基础的源数据的实际情况

  - 与业务代表交流来发现需求

  - 数据实际情况可以通过与源系统专家交流， 构建高层次数据分析访问数据可行性来揭示

    > 英文版原文：
    >
    > data realities are uncovered by meeting with source system experts and doing high-level data profiling to assess data feasibilities.
    >
    > 理解：
    >
    > - 与业务系统研发交流，理解表结构
    > - 探查业务数据，获得profiling，也就是业务数据知识，比如字段的值域，最大值，最小值

- 协作维度建模研讨

- 维度设计过程（4步骤）

  - 设计期间设计4个主要的决策：
    - （1）选择业务过程
    - （2）声明粒度
    - （3）确认维度
    - （4）确认事实
  - 

- 业务过程

- 粒度

- 描述环境的维度

  - 维度提供围绕某一业务过程事件所涉及的 “ 谁、什么、何处、何时、为什么、如何” 等背景

  - 维度表包含B1应用所需要的用于**过滤及分类**事实的描述性属性

  - 牢牢掌握事实表 的粒度，就能够将所有可能存在的维度区分开

    > 怎么理解？

  - 当与给定事实表行关联时，任何情况下都应使维度保持单一值

    > 怎么理解？

  - 维度表有时被称为数仓的”灵魂“，因为维度能够被用作业务分析的入口和描述性标识

- 用于度量的事实

  - 事实涉及来自业务过程事件的度量，基本上都是数量值

  - 事实表对应一个物理可观察的事件：一个事实表行与按照事实表粒度描述的度量事件之间存在一对一关系

    > 再加深理解

  - 在事实表内，所有事实只允许与声明的粒度保持一致

- 星型模式与OLAP 多维数据库

  - 星型模式是部署在**关系型数据库**之上的多维结构（事实表+通过主/外键关联的维度表）
  - OLAP多维数据库是实现在**多维数据库**之上的多维结构，与关系型星型模式内容等价，或者说来源于关系型星星模式
  - OLAP多维数据库能够使用具有比SQL语言具有更强分析能力的语言访问

- （数据变化可以）方便地扩展到维度模型

  - 维度模型对数据关系发生变化具有灵活的适应性

    -  当事实与存在的事实表粒度一致时，可以创建新列。

    - 通过建立新的外键列，可以将维度关联到己经存在的事实表上，前提是维度列与事实表粒度保持一致。

    - 可以在维度表上通过建 立新列添加属性。

    - 可以使事实表的粒度更原子化，方法是在维度表上增加属性，然后以更细的粒度重置事实表，小心保存事实表及维度表的列名。

      > 通过在维度表新建一个字段X，然后新建一个粒度更低的事实表，并将新加的字段X作为新事实表的外键？

## 2.2 事实表技术基础






## 2.3 维度表技术基础

 概念 | 定义 | 使用场景 | 示例 
--- | --- |---| --- 
维度代理键 |
自然键、持久键和超自然键 |
退化维度 | 
非规范化扁平维度 |将非规范化的多对一固定深度层次引入扁平维度行的不同属性
多层次维度 | | | 日、周、月、年；区、市、省
维度表中的空值属性 | 推荐采用描达性字符串替代空值 | 应该避免在维度属性中使用空值，因为不同的数据库系统在处理分组和约束时，针对空值的处理方法不一致| 例如，使用 Unknown或Not Applicable 替换空值。
日历日期维度 | 
扮演角色的维度 |
杂项维度 |
雪花维度 | 扁平化的、非规范化的维度表完全能够获得与雪花模式相同的信息
支架维度 | 


## 2.4 使用一致性维度集成

