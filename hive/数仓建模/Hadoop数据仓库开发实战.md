## Hadoop数仓开发实战

### 数仓架构设计
- ods层：也叫准备区，存储这历史的增量或者全量数据
- dw层：数仓的主体内容，hadoop数仓的DW层一般基于Kimball的维度建模理论来构建，通过**维度一致性和数据总线**来保证各个子主题的维度一致性
    - 数据平台的下游用户将会直接使用DW层数据
    - 出于性能、重复计算和便捷性的考虑，DW层会分为两层：
        - 明细层：具有最细粒度的事实表和维度表
        - 汇总层：基于明细层的汇总层（可以和业务方一起沟通确定），一般针对频繁使用的维度进行汇总
- dm层：基于dw层，也就是数据集市（Data Mart），或者说应用层，一般由下游数据用户拥有维护，数仓提供咨询和支持

![image](https://github.com/fancyChuan/bigdata-learn/blob/master/hive/img/数仓建模/hadoop数仓逻辑架构.png?raw=true)

采用这种分层的好处：
-  屏蔽源头系统业务变更、系统变更对于下游用户的影晌
- 屏蔽源头业务系统的复杂性
- 避免重复计算和存储： 通过汇总层的引人，避免了下游用户逻辑的重复计算， 节省了用户的开发时间和精力，同时也节省了计算和存储。
- 数据仓库的可维护性： 分层的设计使得某一层的问题只在该层得到解决，无须更改下一层的代码和逻辑

